{"version":3,"sources":["services/settings.js","hooks/useUser.js","services/login.js","services/addFav.js","components/Spinner/index.js","components/SearchForm/hook.js","components/SearchForm/index.js","services/getGifs.js","hooks/useGifs.js","components/Login/index.js","context/GifsContext.js","components/Modal/index.js","components/Fav/index.js","components/Gif/index.js","context/UserContext.js","services/getFavs.js","components/Button/styles.js","components/Button/index.js","components/SearchForm/SearchForm.module.css","components/ListOfGifs/index.js","hooks/useNearScreen.js","styles/index.js","components/Header/index.js","components/Register/index.js","services/register.js","pages/Register/index.js","pages/Login/index.js","pages/SearchResults/index.js","services/getSingleGif.js","hooks/useSingleGif.js","pages/Detail/index.js","pages/ErrorPage/index.js","App.js","serviceWorker.js","index.js"],"names":["API_KEY","API_URL","useUser","useContext","Context","favs","jwt","setFavs","setJWT","useState","loading","error","state","setState","login","useCallback","username","password","fetch","method","headers","body","JSON","stringify","then","res","ok","Error","json","loginService","window","sessionStorage","setItem","catch","err","removeItem","console","addFav","id","addFavService","logout","isLogged","Boolean","isLoginLoading","hasLoginError","Spinner","className","ACTIONS","ACTIONS_REDUCERS","action","times","keyword","payload","rating","reducer","actionReducer","type","RATINGS","SearchForm","initialKeyword","initialRating","useLocation","pushLocation","useReducer","decodeURIComponent","dispatch","changeKeyword","changeRating","useForm","onSubmit","evt","preventDefault","css","Button","placeholder","onChange","target","value","disabled","map","key","fromApiResponseToGifs","apiResponse","data","Array","isArray","image","images","title","url","downsized_medium","getGifs","limit","page","apiURL","useGifs","setLoading","loadingNextPage","setLoadingNextPage","setPage","GifsContext","gifs","setGifs","keywordToUse","localStorage","getItem","useEffect","nextGifs","prevGifs","concat","Login","onLogin","setUsername","setPassword","navigate","e","React","createContext","GifsContextProvider","children","Provider","Modal","onClose","onClick","ModalPortal","ReactDOM","createPortal","document","getElementById","Fav","showModal","setShowModal","some","favId","label","emoji","aria-label","role","Gif","to","alt","src","UserContextProvider","getFavs","SIZES","small","medium","large","Link","styled","LinkWouter","props","theme","colors","primary","textColor","size","warn","Object","keys","join","withComponent","ButtonComponent","href","module","exports","ListOfGifs","useNearScreen","distance","externalRef","once","isNearScreen","setShow","fromRef","useRef","observer","element","current","entries","isIntersecting","disconnect","Promise","resolve","IntersectionObserver","rootMargin","observe","bps","greaterThanMobile","fontSizes","paddings","xs","s","m","l","Header","useRoute","match","handleClick","content","Register","handleSubmit","register","errors","registered","setRegistered","isSubmitting","setIsSubmitting","values","registerService","name","ref","required","as","RegisterPage","LoginPage","SearchResults","params","length","debounceHandleNextPage","debounce","prevPage","Helmet","decodeURI","useSingleGif","gifFromCache","find","singleGif","gif","setGif","isLoading","setIsLoading","isError","setIsError","getSingleGif","Detail","gifsErrors","pageErrorStyles","codeErrorStyles","msgErrorStyles","gifErrorStyles","margin","width","height","objectFit","ErrorPage","Math","floor","random","HomePage","lazy","App","UserContext","fallback","component","path","location","hostname","render","StrictMode","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.231aea8e.chunk.js","sourcesContent":["export const API_KEY = 'dIJrma20pSU6ymMwWnDbiaT7NFHeAGVa'\r\n\r\nexport const API_URL = 'https://api.giphy.com/v1'","import {useCallback, useContext, useState} from 'react'\r\nimport Context from 'context/UserContext'\r\nimport loginService from 'services/login'\r\nimport addFavService from 'services/addFav'\r\n\r\nexport default function useUser () {\r\n  const {favs, jwt, setFavs, setJWT} = useContext(Context)\r\n  const [state, setState] = useState({ loading: false, error: false })\r\n\r\n  const login = useCallback(({username, password}) => {\r\n    setState({loading: true, error: false })\r\n    loginService({username, password})\r\n      .then(jwt => {\r\n        window.sessionStorage.setItem('jwt', jwt)\r\n        setState({loading: false, error: false })\r\n        setJWT(jwt)\r\n      })\r\n      .catch(err => {\r\n        window.sessionStorage.removeItem('jwt')\r\n        setState({loading: false, error: true })\r\n        console.error(err)\r\n      })\r\n  }, [setJWT])\r\n\r\n  const addFav = useCallback(({id}) => {\r\n    addFavService({id, jwt})\r\n      .then(setFavs)\r\n      .catch(err => {\r\n        console.error(err)\r\n      })\r\n  }, [jwt, setFavs]) \r\n\r\n  const logout = useCallback(() => {\r\n    window.sessionStorage.removeItem('jwt')\r\n    setJWT(null)\r\n  }, [setJWT])\r\n\r\n  return {\r\n    addFav,\r\n    favs,\r\n    isLogged: Boolean(jwt),\r\n    isLoginLoading: state.loading,\r\n    hasLoginError: state.error,\r\n    login,\r\n    logout\r\n  }\r\n} ","const ENDPOINT = 'https://deno-api-users-login.herokuapp.com'\r\n\r\nexport default function login ({ username, password }) {\r\n  return fetch(`${ENDPOINT}/login`, {\r\n    method: 'POST',\r\n    headers: {\r\n      \"Content-Type\": \"application/json\"\r\n    },\r\n    body: JSON.stringify({username, password})\r\n  }).then(res => {\r\n    if (!res.ok) throw new Error('Response is NOT ok')\r\n    return res.json()\r\n  }).then(res => {\r\n    const { jwt } = res\r\n    return jwt\r\n  })\r\n}","const ENDPOINT = 'https://deno-api-users-login.herokuapp.com'\r\n\r\nexport default function addFav ({ id, jwt }) {\r\n  return fetch(`${ENDPOINT}/favs/${id}`, {\r\n    method: 'POST',\r\n    headers: {\r\n      \"Content-Type\": \"application/json\"\r\n    },\r\n    body: JSON.stringify({jwt})\r\n  }).then(res => {\r\n    if (!res.ok) throw new Error('Response is NOT ok')\r\n    return res.json()\r\n  }).then(res => {\r\n    const { favs } = res\r\n    return favs\r\n  })\r\n}","import React from 'react'\r\nimport './styles.css'\r\n\r\nexport default function Spinner () {\r\n  return <div className=\"lds-ring\"><div></div><div></div><div></div><div></div></div>\r\n}","import { useReducer } from \"react\";\r\n\r\nconst ACTIONS = {\r\n  CHANGE_KEYWORD: \"change_keyword\",\r\n  CHANGE_RATING: \"change_rating\",\r\n};\r\n\r\nconst ACTIONS_REDUCERS = {\r\n  [ACTIONS.CHANGE_KEYWORD]: (state, action) => ({\r\n    ...state,\r\n    times: state.times + 1,\r\n    keyword: action.payload,\r\n  }),\r\n  [ACTIONS.CHANGE_RATING]: (state, action) => ({\r\n    ...state,\r\n    rating: action.payload,\r\n  }),\r\n};\r\n\r\nconst reducer = (state, action) => {\r\n  const actionReducer = ACTIONS_REDUCERS[action.type];\r\n  return actionReducer ? actionReducer(state, action) : state;\r\n};\r\n\r\nexport default function useForm({\r\n  initialKeyword = \"\",\r\n  initialRating = \"g\",\r\n} = {}) {\r\n  const [{ keyword, rating }, dispatch] = useReducer(reducer, {\r\n    keyword: decodeURIComponent(initialKeyword),\r\n    rating: initialRating\r\n  });\r\n\r\n  return {\r\n    changeKeyword: ({ keyword }) =>\r\n      dispatch({ type: ACTIONS.CHANGE_KEYWORD, payload: keyword }),\r\n    changeRating: ({ rating }) =>\r\n      dispatch({ type: ACTIONS.CHANGE_RATING, payload: rating }),\r\n    keyword,\r\n    rating\r\n  };\r\n}\r\n","import React from \"react\"\r\nimport { useLocation } from \"wouter\"\r\nimport useForm from './hook'\r\nimport css from \"./SearchForm.module.css\"\r\nimport Button from 'components/Button'\r\n\r\nconst RATINGS = [\"g\", \"pg\", \"pg-13\", \"r\"]\r\n\r\nexport default function SearchForm({\r\n  initialKeyword = '',\r\n  initialRating = RATINGS[0]\r\n}) {\r\n  const [_, pushLocation] = useLocation()\r\n\r\n  const {keyword, rating, changeKeyword, changeRating} = useForm({ initialKeyword, initialRating })\r\n\r\n  const onSubmit = ({ keyword }) => {\r\n    if (keyword !== '') {\r\n      // navegar a otra ruta\r\n      pushLocation(`/search/${keyword}/${rating}`)\r\n    }\r\n  }\r\n\r\n  const handleChange = (evt) => {\r\n    changeKeyword({ keyword: evt.target.value })\r\n  }\r\n\r\n  const handleSubmit = (evt) => {\r\n    evt.preventDefault()\r\n    onSubmit({ keyword })\r\n  }\r\n\r\n  const handleChangeRating = (evt) => {\r\n    changeRating({ rating: evt.target.value })\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <form onSubmit={handleSubmit} className={css[\"c-search\"]}>\r\n        <Button>Buscar</Button>\r\n        <input\r\n          className={css[\"c-search-input\"]}\r\n          placeholder=\"Search a gif here...\"\r\n          onChange={handleChange}\r\n          type=\"text\"\r\n          value={keyword}\r\n        />\r\n        <select className={css[\"c-search-list\"]} value={rating} onChange={handleChangeRating}>\r\n          <option disabled>\r\n            Rating:\r\n          </option>\r\n          {RATINGS.map((rating) => (\r\n            <option key={rating}>{rating}</option>\r\n          ))}\r\n        </select>\r\n      </form>\r\n    </>\r\n  )\r\n}\r\n","import {API_KEY, API_URL} from './settings'\r\n\r\nconst fromApiResponseToGifs = apiResponse => {\r\n  const {data = []} = apiResponse\r\n  if (Array.isArray(data)) {\r\n    const gifs = data.map(image => {\r\n      const {images, title, id} = image\r\n      const { url } = images.downsized_medium\r\n      return { title, id, url }\r\n    })\r\n    return gifs\r\n  }\r\n  return []\r\n}\r\n\r\nexport default function getGifs({\r\n  limit = 15,\r\n  rating = \"g\",\r\n  keyword = \"morty\",\r\n  page = 0,\r\n} = {}) {\r\n  const apiURL = `${API_URL}/gifs/search?api_key=${API_KEY}&q=${keyword}&limit=${limit}&offset=${\r\n    page * limit\r\n  }&rating=${rating}&lang=en`\r\n\r\n  return fetch(apiURL)\r\n    .then((res) => res.json())\r\n    .then(fromApiResponseToGifs)\r\n}","import {useContext, useEffect, useState} from 'react'\r\nimport getGifs from '../services/getGifs'\r\nimport GifsContext from '../context/GifsContext'\r\n\r\nconst INITIAL_PAGE = 0\r\n\r\nexport function useGifs ({ keyword, rating } = { keyword: null }) {\r\n  const [loading, setLoading] = useState(false)\r\n  const [loadingNextPage, setLoadingNextPage] = useState(false)\r\n\r\n  const [page, setPage] = useState(INITIAL_PAGE)\r\n  const {gifs, setGifs} = useContext(GifsContext)\r\n\r\n  // recuperamos la keyword del localStorage\r\n  const keywordToUse = keyword || localStorage.getItem('lastKeyword') || 'random'\r\n\r\n  useEffect(function () {\r\n    setLoading(true)\r\n\r\n    getGifs({ keyword: keywordToUse, rating })\r\n      .then(gifs => {\r\n        setGifs(gifs)\r\n        setLoading(false)\r\n        // guardamos la keyword en el localStorage\r\n        localStorage.setItem('lastKeyword', keyword)\r\n      })\r\n  }, [keyword, keywordToUse, rating, setGifs])\r\n\r\n  useEffect(function () {\r\n    if (page === INITIAL_PAGE) return\r\n\r\n    setLoadingNextPage(true)\r\n\r\n    getGifs({ keyword: keywordToUse, page, rating })\r\n      .then(nextGifs => {\r\n        setGifs(prevGifs => prevGifs.concat(nextGifs))\r\n        setLoadingNextPage(false)\r\n      })\r\n  }, [keywordToUse, page, rating, setGifs])\r\n\r\n  return {loading, loadingNextPage, gifs, setPage}\r\n}","import React, { useState } from \"react\";\r\nimport {useLocation} from \"wouter\"\r\nimport useUser from 'hooks/useUser'\r\nimport { useEffect } from \"react\";\r\nimport './Login.css'\r\n\r\nexport default function Login({onLogin}) {\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [, navigate] = useLocation()\r\n  const {isLoginLoading, hasLoginError, login, isLogged} = useUser()\r\n\r\n  useEffect(() => {\r\n    if (isLogged) {\r\n      navigate('/')\r\n      onLogin && onLogin()\r\n    }\r\n  }, [isLogged, navigate, onLogin])\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    login({ username, password })\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {isLoginLoading && <strong>Checking credentials...</strong>}\r\n      {!isLoginLoading &&\r\n        <form className='form' onSubmit={handleSubmit}>\r\n          <label>\r\n            username\r\n            <input\r\n            placeholder=\"username\"\r\n            onChange={(e) => setUsername(e.target.value)}\r\n            value={username}\r\n          />\r\n          </label>\r\n\r\n          <label>\r\n            password\r\n            <input\r\n              type=\"password\"\r\n              placeholder=\"password\"\r\n              onChange={(e) => setPassword(e.target.value)}\r\n              value={password}\r\n            />\r\n          </label>\r\n\r\n          <button className='btn'>Login</button>\r\n        </form>\r\n      }\r\n      {\r\n        hasLoginError && <strong>Credentials are invalid</strong>\r\n      }\r\n    </>\r\n  );\r\n}\r\n","import React, {useState} from 'react'\r\n\r\nconst Context = React.createContext({})\r\n\r\nexport function GifsContextProvider ({children}) {\r\n  const [gifs, setGifs] = useState([])\r\n\r\n  return <Context.Provider value={{gifs, setGifs}}>\r\n    {children}\r\n  </Context.Provider>\r\n}\r\n\r\nexport default Context","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\n\r\nimport './Modal.css'\r\n\r\nfunction Modal ({ children, onClose }) {\r\n  return <div className='modal'>\r\n    <div className='modal-content'>\r\n      <button className='btn' onClick={onClose}>üÖß</button>\r\n      {children}\r\n    </div>\r\n  </div>\r\n}\r\n\r\nexport default function ModalPortal ({ children, onClose }) {\r\n  return ReactDOM.createPortal(\r\n    <Modal onClose={onClose}>\r\n      {children}\r\n    </Modal>,\r\n    document.getElementById('root')\r\n  )\r\n}","import React, { useState } from \"react\";\r\nimport useUser from \"hooks/useUser\";\r\nimport Modal from \"components/Modal\";\r\nimport Login from \"components/Login\";\r\nimport { useLocation } from \"wouter\";\r\n\r\nimport \"./Fav.css\";\r\n\r\nexport default function Fav({ id }) {\r\n  const { isLogged, addFav, favs } = useUser();\r\n  const [, navigate] = useLocation();\r\n  const [showModal, setShowModal] = useState(false);\r\n\r\n  const isFaved = favs.some((favId) => favId === id);\r\n\r\n  const handleClick = () => {\r\n    if (!isLogged) return setShowModal(true);\r\n    addFav({ id });\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setShowModal(false);\r\n  };\r\n\r\n  const handleLogin = () => {\r\n    setShowModal(false);\r\n  };\r\n\r\n  const [label, emoji] = isFaved\r\n    ? [\"Remove Gif from favorites\", \"‚ùå\"]\r\n    : [\"Add Gif to favorites\", \"‚ù§Ô∏è\"];\r\n\r\n  return (\r\n    <>\r\n      <button className=\"gf-Fav\" onClick={handleClick}>\r\n        <span aria-label={label} role=\"img\">\r\n          {emoji}\r\n        </span>\r\n      </button>\r\n      {showModal && (\r\n        <Modal onClose={handleClose}>\r\n          <Login onLogin={handleLogin} />\r\n        </Modal>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import React from 'react'\r\nimport {Link} from 'wouter'\r\nimport Fav from 'components/Fav'\r\nimport './Gif.css'\r\n\r\nexport default function Gif ({ title, id, url }) {\r\n  return (\r\n    <div className=\"Gif\">\r\n      <div className=\"Gif-buttons\">\r\n        <Fav id={id}></Fav>\r\n      </div>\r\n      <Link to={`/gif/${id}`} className='Gif-link'>\r\n        <h4>{title}</h4>\r\n        <img loading='lazy' alt={title} src={url} />\r\n      </Link>\r\n    </div>\r\n\r\n  )\r\n}","import React, {useState} from 'react'\r\nimport { useEffect } from 'react'\r\nimport getFavs from 'services/getFavs'\r\n\r\nconst Context = React.createContext({})\r\n\r\nexport function UserContextProvider ({children}) {\r\n  const [favs, setFavs] = useState([])\r\n  const [jwt, setJWT] = useState(\r\n    () => window.sessionStorage.getItem('jwt')\r\n  )\r\n\r\n  useEffect(() => {\r\n    if (!jwt) return setFavs([])\r\n    getFavs({jwt}).then(setFavs)\r\n  }, [jwt])\r\n\r\n  return <Context.Provider value={{\r\n    favs,\r\n    jwt,\r\n    setFavs,\r\n    setJWT\r\n  }}>\r\n    {children}\r\n  </Context.Provider>\r\n}\r\n\r\nexport default Context","const ENDPOINT = 'https://deno-api-users-login.herokuapp.com'\r\n\r\nexport default function getFavs ({ jwt }) {\r\n  return fetch(`${ENDPOINT}/favs`, {\r\n    method: 'GET',\r\n    headers: {\r\n      \"Authorization\": jwt,\r\n      \"Content-Type\": \"application/json\"\r\n    }\r\n  }).then(res => {\r\n    if (!res.ok) throw new Error('Response is NOT ok')\r\n    return res.json()\r\n  }).then(res => {\r\n    const { favs } = res\r\n    return favs\r\n  })\r\n}","import { Link as LinkWouter } from \"wouter\";\r\nimport styled from '@emotion/styled'\r\n\r\nconst SIZES = {\r\n  small: '1rem',\r\n  medium: '2rem',\r\n  large: '3rem'\r\n}\r\n\r\nconst getFontSize = props => {\r\n  const size = SIZES[props.size]\r\n  if (!size) {\r\n    console.warn(`[Button Styled Component] This size is not correct. Use ${Object.keys(SIZES).join(', ')}`)\r\n    return SIZES.small\r\n  }\r\n  return size\r\n}\r\n\r\nexport const Link = styled(LinkWouter)`\r\n  background-color: ${props => props.theme.colors.primary};\r\n  border: 1px solid transparent;\r\n  color: ${({theme}) => theme.colors.textColor};\r\n  cursor: pointer;\r\n  font-size: ${getFontSize};\r\n  padding: .5rem 1rem;\r\n\r\n  :hover {\r\n    background-color: var(--brand-color_2);\r\n  }\r\n\r\n  [disabled] {\r\n    opacity: .3;\r\n    pointer-events: none;\r\n  }\r\n`\r\n\r\nexport const Button = Link.withComponent('button')","import React from 'react'\r\nimport { Button, Link } from './styles'\r\n\r\nexport default function ButtonComponent ({children, href, size = 'jkhdfgsjkfghsdsjkldfgdljk'}) {\r\n  return href\r\n    ? <Link size={size} href={href}>{children}</Link>\r\n    : <Button size={size}>{children}</Button>\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"c-search\":\"SearchForm_c-search__3Bfz8\",\"c-search-list\":\"SearchForm_c-search-list__3U3KR\",\"c-search-input\":\"SearchForm_c-search-input__2qrrw\"};","import React from 'react'\r\nimport Gif from '../Gif'\r\nimport './ListOfGifs.css'\r\n\r\nexport default function ListOfGifs ({gifs}) {\r\n  return <div className='ListOfGifs'>\r\n    {\r\n      gifs.map(({id, title, url}) =>\r\n        <Gif\r\n          id={id}\r\n          key={id}\r\n          title={title}\r\n          url={url}\r\n        />\r\n      )\r\n    }\r\n  </div>\r\n}","import {useEffect, useState, useRef} from 'react'\r\n\r\nexport default function useNearScreen ({ distance = '100px', externalRef, once = true } = {}) {\r\n  const [isNearScreen, setShow] = useState(false)\r\n  const fromRef = useRef()\r\n\r\n  useEffect(() => {\r\n    let observer\r\n\r\n    const element = externalRef ? externalRef.current : fromRef.current\r\n\r\n    const onChange = (entries, observer) => {\r\n      const el = entries[0]\r\n      if (el.isIntersecting) {\r\n        setShow(true)\r\n        once && observer.disconnect()\r\n      } else {\r\n        !once && setShow(false)\r\n      }\r\n    }\r\n\r\n    Promise.resolve(\r\n      typeof IntersectionObserver !== 'undefined'\r\n        ? IntersectionObserver\r\n        : import('intersection-observer')\r\n    ).then(() => {\r\n      observer = new IntersectionObserver(onChange, {\r\n        rootMargin: distance\r\n      })\r\n  \r\n      if (element) observer.observe(element)\r\n    })\r\n\r\n    return () => observer && observer.disconnect()\r\n  })\r\n\r\n  return {isNearScreen, fromRef}\r\n}","export const bps = {\r\n  greaterThanMobile: '@media screen and (min-width: 55rem)'\r\n}\r\n\r\nexport const theme = {\r\n  colors: {\r\n    textColor: 'var(--theme-body-txt)',\r\n    primary: 'var(--brand-color_3)'\r\n  },\r\n  fontSizes: {\r\n\r\n  },\r\n  paddings: {\r\n    xs: '4px',\r\n    s: '8px',\r\n    m: '16px',\r\n    l: '32px'\r\n  }\r\n}","import React from 'react'\r\nimport {useRoute, Link} from 'wouter'\r\n\r\nimport useUser from 'hooks/useUser'\r\n\r\nimport './Header.css'\r\n\r\nexport default function Header () {\r\n  const {isLogged, logout} = useUser()\r\n  const [match] = useRoute(\"/login\");\r\n\r\n  const handleClick = e => {\r\n    e.preventDefault()\r\n    logout()\r\n  }\r\n\r\n  const renderLoginButtons = ({isLogged}) => {\r\n    return isLogged\r\n      ? <Link to='#' onClick={handleClick}>\r\n      Logout\r\n      </Link>\r\n      : <>\r\n        <Link to='/login'>\r\n          Login\r\n        </Link>\r\n        <Link to='/register'>\r\n          Register\r\n        </Link>\r\n        </>\r\n  }\r\n\r\n  const content = match\r\n    ? null\r\n    : renderLoginButtons({isLogged})\r\n\r\n  return (\r\n    <header className='gf-header'>\r\n      {content}\r\n    </header>\r\n  )\r\n}","import React, {useState} from \"react\";\r\nimport registerService from \"services/register\";\r\nimport { useForm, ErrorMessage } from 'react-hook-form'\r\n\r\nexport default function Register() {\r\n  const {handleSubmit, register, errors} = useForm()\r\n\r\n  const [registered, setRegistered] = useState(false)\r\n  const [isSubmitting, setIsSubmitting] = useState(false)\r\n\r\n  const onSubmit = values => {\r\n    setIsSubmitting(true)\r\n    registerService(values)\r\n      .then(() => {\r\n        setRegistered(true)\r\n        setIsSubmitting(false)\r\n      })\r\n  }\r\n\r\n  if (registered) {\r\n    return <h4>\r\n      Congratulations ‚úÖ! You've been successfully registered!\r\n    </h4>\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <form className='form' onSubmit={handleSubmit(onSubmit)}>\r\n        <input\r\n          className={errors.username ? 'error' : ''}\r\n          name=\"username\"\r\n          placeholder=\"Put here the username\"\r\n          ref={register({ required: 'This is required' })}\r\n        />\r\n        <ErrorMessage errors={errors} name='username' as=\"small\"/>\r\n\r\n        <input\r\n          className={errors.password ? 'error' : ''}\r\n          name=\"password\"\r\n          placeholder=\"Put here the password\"\r\n          ref={register({ required: 'This is required' })}\r\n          type='password'\r\n        />\r\n        <ErrorMessage errors={errors} name='password' as=\"small\" />\r\n\r\n        <button className=\"btn\" disabled={isSubmitting}>\r\n          Registrarse\r\n        </button>\r\n      </form>\r\n    </>\r\n  );\r\n}","const ENDPOINT = 'https://deno-api-users-login.herokuapp.com'\r\n\r\nexport default function register ({ username, password }) {\r\n  return fetch(`${ENDPOINT}/register`, {\r\n    method: 'POST',\r\n    headers: {\r\n      \"Content-Type\": \"application/json\"\r\n    },\r\n    body: JSON.stringify({username, password})\r\n  }).then(res => {\r\n    if (!res.ok) throw new Error('Response is NOT ok')\r\n    return true\r\n  })\r\n}","import React from 'react'\r\nimport Register from 'components/Register'\r\n\r\nexport default function RegisterPage () {\r\n  return <>\r\n    <h2>Register</h2>\r\n    <Register />\r\n  </>\r\n}","import React from 'react'\r\nimport Login from 'components/Login'\r\n\r\nexport default function LoginPage () {\r\n  return <>\r\n    <h2>Login</h2>\r\n    <Login />\r\n  </>\r\n}","import React, {useCallback, useRef, useEffect} from 'react'\r\nimport Spinner from 'components/Spinner'\r\nimport ListOfGifs from 'components/ListOfGifs'\r\nimport SearchForm from 'components/SearchForm'\r\n\r\nimport {useGifs} from 'hooks/useGifs'\r\nimport useNearScreen from 'hooks/useNearScreen'\r\n\r\nimport debounce from 'just-debounce-it'\r\nimport {Helmet} from 'react-helmet'\r\n\r\nexport default function SearchResults ({ params }) {\r\n  const { keyword, rating } = params\r\n  const { loading, gifs, setPage } = useGifs({ keyword, rating })\r\n  \r\n  const externalRef = useRef()\r\n  const {isNearScreen} = useNearScreen({\r\n    externalRef: loading ? null : externalRef,\r\n    once: false\r\n  })\r\n\r\n  const title = gifs ? `${gifs.length} resultados de ${keyword}` : ''\r\n\r\n  const debounceHandleNextPage = useCallback(debounce(\r\n    () => setPage(prevPage => prevPage + 1), 200\r\n  ), [setPage])\r\n\r\n  useEffect(function () {\r\n    if (isNearScreen) debounceHandleNextPage()\r\n  }, [debounceHandleNextPage, isNearScreen])\r\n\r\n  return <>\r\n    {loading\r\n      ? <Spinner />\r\n      : <>\r\n        <Helmet>\r\n          <title>{title}</title>\r\n          <meta name=\"description\" content={title} />\r\n          <meta name=\"rating\" content=\"General\" />\r\n        </Helmet>\r\n        <header className=\"o-header\">\r\n          <SearchForm initialKeyword={keyword} initialRating={rating} />\r\n        </header>\r\n        <div className=\"App-wrapper\">\r\n          <h3 className=\"App-title\">\r\n            {decodeURI(keyword)}\r\n          </h3>\r\n          <ListOfGifs gifs={gifs} />\r\n          <div id=\"visor\" ref={externalRef}></div>\r\n        </div>\r\n      </>\r\n    }\r\n  </>\r\n}","import {API_KEY, API_URL} from './settings'\r\n\r\nconst fromApiResponseToGifs = apiResponse => {\r\n  const {data} = apiResponse\r\n  const {images, title, id} = data\r\n  const { url } = images.downsized_medium\r\n  return { title, id, url }\r\n}\r\n\r\nexport default function getSingleGif ({ id }) {\r\n  return fetch(`${API_URL}/gifs/${id}?api_key=${API_KEY}`)\r\n    .then(res => res.json())\r\n    .then(fromApiResponseToGifs)\r\n}","import {useState, useEffect} from 'react'\r\nimport {useGifs} from 'hooks/useGifs'\r\nimport getSingleGif from 'services/getSingleGif'\r\n\r\nexport default function useSingleGif ({ id }) {\r\n  const {gifs} = useGifs()\r\n  const gifFromCache = gifs.find(singleGif => singleGif.id === id)\r\n\r\n  const [gif, setGif] = useState(gifFromCache)\r\n  const [isLoading, setIsLoading] = useState(false)\r\n  const [isError, setIsError] = useState(false)\r\n\r\n  useEffect(function () {\r\n    if (!gif) {\r\n      setIsLoading(true)\r\n      // llamar al servicio si no tenemos gif\r\n      getSingleGif({ id })\r\n        .then(gif => {\r\n          setGif(gif)\r\n          setIsLoading(false)\r\n          setIsError(false)\r\n        }).catch(err => {\r\n          setIsLoading(false)\r\n          setIsError(true)\r\n        })\r\n    }\r\n  }, [gif, id])\r\n\r\n  return {gif, isLoading, isError}\r\n}","import React from 'react'\r\nimport {Redirect} from 'wouter'\r\nimport Gif from 'components/Gif'\r\nimport useSingleGif from 'hooks/useSingleGif'\r\nimport Spinner from 'components/Spinner'\r\nimport {Helmet} from 'react-helmet'\r\n\r\nexport default function Detail ({ params }) {\r\n  const {gif, isLoading, isError} = useSingleGif({id: params.id})\r\n  const title = gif ? gif.title : ''\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <>\r\n        <Helmet>\r\n          <title>Cargando...</title>\r\n        </Helmet>\r\n        <Spinner />\r\n      </>\r\n    )\r\n  }\r\n\r\n  if (isError) return <Redirect to='/404' />\r\n  if (!gif) return null\r\n\r\n  return <>\r\n      <Helmet>\r\n        <title>{title} || Giffy</title>\r\n      </Helmet>\r\n      <h3 className=\"App-title\">{gif.title}</h3>\r\n      <Gif {...gif} />\r\n    </>\r\n}","/** @jsx jsx */\r\n/** @jsxFrag React.Fragment */\r\n\r\nimport React from \"react\";\r\nimport SearchForm from \"components/SearchForm\";\r\nimport { Helmet } from \"react-helmet\";\r\nimport Button from 'components/Button'\r\nimport { css, jsx } from '@emotion/core'\r\n\r\nconst gifsErrors = ['d2jjuAZzDSVLZ5kI', 'Bp3dFfoqpCKFyXuSzP', 'hv5AEBpH3ZyNoRnABG', 'hLwSzlKN8Fi6I'];\r\n\r\nconst pageErrorStyles = css`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  padding: 1rem;\r\n  text-align: center;\r\n`\r\n\r\nconst codeErrorStyles = css`\r\n  font-size: 5rem;\r\n  font-weight: bold;\r\n  font-style: italic;\r\n`\r\n\r\nconst msgErrorStyles = css`\r\n  font-size: 1.5rem;\r\n  margin: 1rem auto;\r\n`\r\n\r\nconst SIZE = '350px'\r\n\r\nconst gifErrorStyles = css({\r\n  margin: \"1rem auto\",\r\n  width: SIZE,\r\n  height: SIZE,\r\n  objectFit: 'cover'\r\n})\r\n\r\nexport default function ErrorPage() {\r\n  const randomImage = () => {\r\n    return `https://media.giphy.com/media/${gifsErrors[Math.floor(Math.random() * gifsErrors.length) + 1 ]}/giphy.gif`\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>Error 404 | Giffy</title>\r\n      </Helmet>\r\n      <header className=\"o-header\">\r\n        <SearchForm />\r\n      </header>\r\n      <div className=\"App-wrapper\">\r\n        <div css={pageErrorStyles}>\r\n            <span css={codeErrorStyles}>404</span>\r\n            <span css={msgErrorStyles}>Sometimes gettings lost isn't that bad</span>\r\n            <img css={gifErrorStyles} src={randomImage()} alt=\"alt-page-404\"/>\r\n            <Button href='/'>Go back home</Button>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import React, { Suspense } from \"react\";\r\nimport { Link, Route, Switch } from \"wouter\";\r\n\r\nimport Header from \"components/Header\";\r\n\r\nimport Register from 'pages/Register'\r\nimport Login from \"pages/Login\";\r\nimport SearchResults from \"pages/SearchResults\";\r\nimport Detail from \"pages/Detail\";\r\nimport ErrorPage from \"pages/ErrorPage\";\r\n\r\nimport { UserContextProvider } from \"context/UserContext\";\r\nimport { GifsContextProvider } from \"context/GifsContext\";\r\n\r\nimport \"./App.css\";\r\n\r\nconst HomePage = React.lazy(() => import(\"./pages/Home\"));\r\n\r\nexport default function App() {\r\n  return (\r\n    <UserContextProvider>\r\n      <div className=\"App\">\r\n        <Suspense fallback={null}>\r\n          <section className=\"App-content\">\r\n            <Header />\r\n            <Link to=\"/\">\r\n              <figure className=\"App-logo\">\r\n                <img alt=\"Giffy logo\" src=\"/logo.png\" />\r\n              </figure>\r\n            </Link>\r\n            <GifsContextProvider>\r\n              <Switch>\r\n                <Route component={HomePage} path=\"/\" />\r\n                <Route\r\n                  component={SearchResults}\r\n                  path=\"/search/:keyword/:rating?\"\r\n                />\r\n                <Route component={Detail} path=\"/gif/:id\" />\r\n                <Route component={Login} path=\"/login\" />\r\n                <Route component={Register} path=\"/register\" />\r\n                <Route component={ErrorPage} path=\"/:rest*\" />\r\n              </Switch>\r\n            </GifsContextProvider>\r\n          </section>\r\n        </Suspense>\r\n      </div>\r\n    </UserContextProvider>\r\n  );\r\n}\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport { ThemeProvider } from 'emotion-theming'\r\nimport { theme } from 'styles'\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <ThemeProvider theme={theme}>\r\n      <App />\r\n    </ThemeProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}